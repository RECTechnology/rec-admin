<div class="modal-header bg-warning">
  <span>
    <i class="fa fa-warning" style="margin-right: 10px"></i> {{'Error Report'|translate}}</span>

  <button type="button" md-icon-button class="icon-btn-small" name="button" (click)="close(false)" title="close">
    <span class="center h v">
      <i class="fa fa-times col-white"></i>
    </span>
  </button>
</div>

<div class="padd-x20" style="width: 100%" *ngIf="!sentReport" style="max-height: 85vh; overflow-y: auto">

  <h4>{{brand.title}} - {{'Error Report'|translate}}</h4>
  <p class="small-text-2" [innerHTML]="'EXPLAIN_ERROR' | translate"></p>
  <div style="margin-top: 20px!important">
    <md-checkbox [(ngModel)]="sendScreenShot">
      <span class="small-text-2">{{'DONT_SEND_SCREENSHOT' | translate}}</span>
    </md-checkbox>
  </div>

  <div style="margin-top: 15px; width: 100%; align-items: flex-start">
    <div style="width: 100%;background: #fdfdfd; border: 1px solid rgba(0, 0, 0, 0.10);">
      <div class="center h v fill-size" *ngIf="!screenshot">
        <md-progress-spinner color="primary" style="width: 35px; height: 35px" mode="indeterminate"></md-progress-spinner>
      </div>
      <div class="center h v fill-size" style="position: relative">
        <img *ngIf="screenshot" src="{{screenshot}}" (click)="sendScreenShot = !sendScreenShot" alt="automatic screnshot" style="min-height: 130px; height: auto; max-width: 500px">
        <div *ngIf="!sendScreenShot" class="dont-send-screenshot center h v" (click)="sendScreenShot = !sendScreenShot">
          <i class="fa fa-times col-error"></i>
        </div>
      </div>
    </div>

    <div style="width: 100%; margin-top: 20px">
      <p class="small-text" style="margin-bottom: 10px!important">{{'Error Title'|translate}}: </p>
      <input type="text" name="" value="" class="user-input no-margin small bordered" [(ngModel)]="error_title" placeholder="{{'Title'|translate}}">
    </div>
    <div style="width: 100%; margin-top: 20px">
      <p class="small-text" style="margin-bottom: 10px!important">{{'Error Description'|translate}}: </p>
      <textarea class="user-input no-margin small bordered text-area" style="min-height: 80px" [(ngModel)]="error_message" placeholder="{{'ENTER_DESC'|translate}}"></textarea>
    </div>
    <div class="group-row-left center v" style="margin: 20px 0; width: 100%; justify-content: space-between; overflow: visible">
      <p class="small-text" *ngIf="currentPath">
        <b>{{'Path'|translate}}: </b>
        <span class="monospace">{{currentPath}}</span> |
        <b>{{'Errors'|translate}}: </b>
        <span class="col-error">{{errors}}</span>
      </p>
      <btn-loader (click)="sendReport()" [disabled]="loading || !screenshot || !error_message || !error_title" [loading]="loading"
        [text]="'Send Report'">
      </btn-loader>
    </div>
    <div class="group-row-left center v">
      <p class="col-error small-text" *ngIf="error">{{error}}</p>
    </div>
  </div>

  <div class="padd-x20" style="width: 100%" *ngIf="sentReport">
    <h4 translate [translateParams]="{id: 'e56fd5668cced'}">REPORTED_ERROR</h4>
    <p>
      {{'ERROR_REPORT_THANKS'|translate}}
    </p>
    <div class="group-row-right" style="width: 100%">
      <button type="button" style="margin-top: 50px" md-raised-button color="primary" name="button" (click)="close()">
        <div class="center h v">
          <p class="text-small no-margin" style="margin: 2px 6px!important">
            {{'Close'|translate}}
          </p>
        </div>
      </button>
    </div>
  </div>