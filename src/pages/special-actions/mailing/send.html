<header-nav></header-nav>
<sidemenu></sidemenu>

<app-page class="mailing">
    <div class="row" style="margin: 0; padding: 20px;">
        <mat-card class="col-lg-12" style="min-height: 200px;padding: 0">
            <tl-header title="Mailings" [query]="query" (onSearch)="search($event)">
                <button type="button" color="primary" mat-raised-button name="button" (click)="createMail()">
                    <p class="text-small">
                        <i class="fa fa-plus"></i> {{('Mail'|translate)}}
                    </p>
                </button>
            </tl-header>

            <tl-subheader style="position: relative; padding: 4px 10">
                <div class="abs-center-right small-text">
                    {{'Showing'|translate}}: {{showing}} of {{total}}
                </div>

                <button [matMenuTriggerFor]="statusMenu" type="button" mat-button class="mat-button-menu"
                    style="text-align: left; margin: 4px 0 4px 10px!important; width: auto; min-width: 1px;line-height: 28px!important; margin-right: 10px!important">
                    <span>{{(selectedStatus ||Â 'Status')|translate}}</span>
                    <i class="fa fa-caret-down" style="margin-left: 8px;"></i>
                </button>
                <mat-menu #statusMenu="matMenu" y-position="below" overlapTrigger="false">
                    <button (click)="filterStatus(status)" mat-menu-item *ngFor="let status of STATUSES">
                        <span
                            style="color: #666; font-size: 12px; text-transform: capitalize;">{{status|translate}}</span>
                    </button>

                    <button (click)="filterStatus(null)" mat-menu-item>
                        <span style="color: #666; font-size: 12px">{{'None'|translate}}</span>
                    </button>
                </mat-menu>

            </tl-subheader>

            <tl-table [loading]="loading" [sort]="true" (onSort)="sortData($event)" [headers]="headers"
                [data]="sortedData" [itemOptions]="itemOptions" [options]="options"
                noItemsMessage="There are no mails yet" [limit]="limit" [total]="total"
                (onChangePage)="changedPage($event)" showLoader="true">
            </tl-table>
        </mat-card>
    </div>
</app-page>